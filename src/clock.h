#ifndef CLOCK_H
#define CLOCK_H

#include <cuda_runtime.h>
#endif

class Timer {
public:
  Timer() : tStart(0), running(false), sec(0.f) {}
  void start() {
    tStart = clock();
    running = true;
  }
  void end() {
    if (!running) {
      sec = 0;
      return;
    }
    cudaDeviceSynchronize();
    clock_t tEnd = clock();
    sec = (float)(tEnd - tStart) / CLOCKS_PER_SEC;
    running = false;
  }
  float get() {
    if (running)
      end();
    return sec;
  }

private:
  clock_t tStart;
  bool running;
  float sec;
};
